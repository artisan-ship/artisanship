<%- include('partials/form-header') %>
<div class="ui middle aligned center aligned grid">
    <div class="column">

        <form action="/register" method="POST" class="ui large form">
            <div class="ui stacked segment">
                <h2 class="ui teal image header">

                    <div class="content">
                        Register
                    </div>
                </h2>
                <div class="field">
                    <div class="ui left icon input">
                        <i class="user icon"></i>
                        <input type="text" name="username" placeholder="username" required>
                    </div>
                </div>
                <div class="field">
                    <div class="ui left icon input">
                        <i class="lock icon"></i>
                        <input type="password" name="password" placeholder="Password" required>
                    </div>
                </div>

                <div class="ui form">
                    <div class="fields">
                        <div class="field">
                            <input type="text" name="register[first_name]" placeholder="First Name" required>
                        </div>
                        <div class="field">
                            <input type="text" name="register[middle_name]" placeholder="Middle Name" >
                        </div>
                        <div class="field">
                            <input type="text" name="register[last_name]" placeholder="Last Name" required>
                        </div>
                    </div>
                    <div class="inline fields">
                        <label for="fruit">I am a:</label>
                        <div class="field">
                            <div class="ui radio checkbox">
                                <input type="radio" name="register[type]" value="creator" checked="" tabindex="0"
                                    class="hidden">

                                <label>Creator</label>
                            </div>
                            <div class="ui radio checkbox">
                                <input type="radio" name="register[type]" value="merchant" tabindex="0" class="hidden">

                                <label>Merchant</label>
                            </div>
                        </div>
                    </div>
                    <div class="fields">
                        <div class="field">
                            <input type="text" name="register[role]" placeholder="Role">
                        </div>

                        <div class="field">
                        <input type="text" id="datepicker" placeholder="Birth date" autocomplete="off" required>

                        </div>
                        
                    </div>
                    
                </div>
               

         

                <div class="field">
                    <div class="ui left icon input">
                        <i class="mail icon"></i>
                        <input type="email" name="register[email]" placeholder="email" required>
                    </div>
                </div>
                <div class="field">
                    <div class="ui left icon input">
                        <i class="camera icon"></i>
                        <input type="url" name="register[avatar]" placeholder="user image (optional)">
                    </div>
                </div>
                <div class="field">
                    <div class="ui left icon input">
                        <i class="address card  icon"></i>
                        <input type="text" name="register[company_title]" placeholder="Company Name" required>
                    </div>
                </div>
                <div class="field">
                    <div class="ui left icon input">
                        <i class="camera icon"></i>
                        <input type="url" name="register[company_logo]" placeholder="Company Logo (optional)">
                    </div>
                </div>

                <h3 class="ui dividing header">
                    Choose your plan
                    </h3>
                  <div class="ui equal width grid subscription-section">
                      <div class="row ">
                          <div class="  column">
                              <div class="card" id="planStarter" data-plan="starter">
                                  <div class="content">
                                      <div class="header">Starter</div>
                                      <div class="meta">Free</div>
                                      <div class="description">
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="  column">
                              <div class="card active" id="planBasic" data-plan="basic">
                                  <div class="content">
                                      <div class="header">Basic</div>
                                      <div class="meta">$10/month</div>
                                      <div class="description">
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class=" column">
                              <div class="card" id="planPro" data-plan="pro">
                                  <div class="content">
                                      <div class="header">Pro</div>
                                      <div class="meta">$20/month</div>
                                      <div class="description">
  
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <input type="hidden" id="selectedPlan" name="register[plan]" value="basic">
                <button class="ui fluid large grey submit button" type="submit">Sign up</button>
            </div>

            <div class="ui error message"></div>

        </form>

        <div class="ui message">
            Already have an account?
            <a href="/login">login</a>
        </div>
    </div>
</div>

<script>
      $('.message .close')
  .on('click', function() {
    $(this)
      .closest('.message')
      .transition('fade')
    ;
  })
;
    $('.ui.radio.checkbox')
        .checkbox();

        $("form").submit(function(){
            $("form").eq(0).addClass("loading");

        });
    var cards = $(".subscription-section .card").toArray();
    cards.forEach(function (card, i) {
        $(card).click(function () {
            var activeCards = $(".subscription-section .card.active").toArray();
            if (activeCards.length > 0) {
                if (!$(card).hasClass("active")) {
                    activeCards.forEach(function (activeCard) {
                        $(activeCard).removeClass("active");
                    })
                    $(this).toggleClass("active");
                    $("#selectedPlan").val($(this).data("plan"))
                }
            }
            else {
                $(this).toggleClass("active");
                $("#selectedPlan").val($(this).data("plan"))

            }
        })
    });



</script>