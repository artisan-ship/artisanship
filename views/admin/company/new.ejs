<%- include('../../partials/header') %>

	<script type='text/javascript'>
		function preview_image(event) {
			$("#uploadHolder").hide()
			$("#imageHolder").show()
			var reader = new FileReader();
			reader.onload = function() {
				var output = document.getElementById('output_image');
				output.src = reader.result;
			}
			reader.readAsDataURL(event.target.files[0]);
		}
	</script>

	<div class="ui container">
		<form class="ui form" action="/admin/products" method="POST" enctype='multipart/form-data'>

			<div class="ui two column centered  grid">

				<div class="ten wide column">
					<div class="ui main text container segment">
						<div class="field">
							<label>Company Logo</label>

							<div id="uploadHolder" class="ui placeholder segment">
								<div class="ui icon header">
									<i class="image  icon"></i>
									No documents are listed for this customer.
								</div>
								<div class="ui button blue">
									<input type="file" onchange="preview_image(event)" id="image" name="image" accept="image/*" required> Add Picture
								</div>

							</div>
							<div id="imageHolder" style="display:none;" class="ui placeholder segment">
								<img id="output_image" />
							</div>

						</div>
						<div class="ui small header"> Company Info</div>

						<div class=" field">
							<input type="text" name="title" placeholder="title">

						</div>

						<div class="ui form">

							<div class="field">

								<div class="field">
									<input type="email" name="email" placeholder="Email">
								</div>
							</div>
							<div class="field">
								<label>Location</label>
								<div class="fields">
									<div class="nine wide field">
										<input type="text" name="address" placeholder="Street Address">
									</div>
									<div class="three wide field">
										<input type="text" name="address2" placeholder="Apt #">
									</div>
									<div class="three wide  field">

										<input type="text" name="zip" placeholder="Zip Code">
									</div>
								</div>
							</div>
						</div>
						<div class="three fields">
							<div class="six wide field">
								<div class="field">
			<label>State</label>
			<select name="state" class="ui fluid dropdown">
				<option value="">State</option>
				<option value="AL">Alabama</option>
				<option value="AK">Alaska</option>
				<option value="AZ">Arizona</option>
				<option value="AR">Arkansas</option>
				<option value="CA">California</option>
				<option value="CO">Colorado</option>
				<option value="CT">Connecticut</option>
				<option value="DE">Delaware</option>
				<option value="DC">District Of Columbia</option>
				<option value="FL">Florida</option>
				<option value="GA">Georgia</option>
				<option value="HI">Hawaii</option>
				<option value="ID">Idaho</option>
				<option value="IL">Illinois</option>
				<option value="IN">Indiana</option>
				<option value="IA">Iowa</option>
				<option value="KS">Kansas</option>
				<option value="KY">Kentucky</option>
				<option value="LA">Louisiana</option>
				<option value="ME">Maine</option>
				<option value="MD">Maryland</option>
				<option value="MA">Massachusetts</option>
				<option value="MI">Michigan</option>
				<option value="MN">Minnesota</option>
				<option value="MS">Mississippi</option>
				<option value="MO">Missouri</option>
				<option value="MT">Montana</option>
				<option value="NE">Nebraska</option>
				<option value="NV">Nevada</option>
				<option value="NH">New Hampshire</option>
				<option value="NJ">New Jersey</option>
				<option value="NM">New Mexico</option>
				<option value="NY">New York</option>
				<option value="NC">North Carolina</option>
				<option value="ND">North Dakota</option>
				<option value="OH">Ohio</option>
				<option value="OK">Oklahoma</option>
				<option value="OR">Oregon</option>
				<option value="PA">Pennsylvania</option>
				<option value="RI">Rhode Island</option>
				<option value="SC">South Carolina</option>
				<option value="SD">South Dakota</option>
				<option value="TN">Tennessee</option>
				<option value="TX">Texas</option>
				<option value="UT">Utah</option>
				<option value="VT">Vermont</option>
				<option value="VA">Virginia</option>
				<option value="WA">Washington</option>
				<option value="WV">West Virginia</option>
				<option value="WI">Wisconsin</option>
				<option value="WY">Wyoming</option>
			</select>
		</div>
		

							</div>
							<div class="field">

								

							</div>
							<input id="showPrice" name="totalprice" type="hidden">

							

						</div>
						<div class="field">
									<label>Description</label>
									<textarea name="body" required></textarea>
								</div>
						<button class="ui orange  button" type="submit">
								<i class="edit icon"></i>Create Company </button>
					</div>
				
					</div>

					<div class="five wide column">
					

						<div class="ui raised segment">
							<i class="tag icon"></i>Tags
							<div class="ui form">

								<div class="ui action input">

									<input id="tagInput" type="text" name="tags" placeholder="tags">

									<div id="tagButton" class="ui button" style="border-radius: 0;">Add</div>
								</div>

								<div id="addedTags" class="ui horizontal list">

								</div>

							</div>
						</div>

						<div class="ui raised segment">

							<div id="googleMap" style="width:100%;height:400px;"></div>
								<hr>
								<div class="four fields ">
									<div class=" four wide field">
										<label>Length</label>
										<input type="number" name="length" placeholder="0">
									</div>
									<div class=" four wide field">
										<label>Width</label>
										<input type="number" name="width" placeholder="0">
									</div>
									<div class=" four wide field">
										<label>Height</label>
										<input type="number" name="height" placeholder="0">
									</div>
									<div class=" five wide field">
										<label>Unit</label>
										<select name="dimensionunit">
											<option value="cm">cm</option>
											<option value="mm"> mm </option>
											<option value="inch"> inch </option>
											<option value="feet"> feet </option>
										</select>
									</div>

								</div>
								<hr>
								<h4 class="ui horizontal divider header">

									Shipping & Production
								</h4>
								<h4>

								</h4>
								<div class="Two fields ">

									<div class=" fourteen wide field">
										<label>
											Shipping Cost
										</label>
										<div class="ui labeled input">
											<div class="ui label">
												<select class="ui compact selection dropdown">

													<option value="dollar">$</option>
													<option value="pound"> £ </option>
													<option value="euro"> € </option>
												</select>
											</div>
											<input type="number" name="length" placeholder="0">
										</div>

									</div>

								</div>

								<div class=" fourteen wide field">
									<label>
										Shipping Time
									</label>
									<div class="ui labeled input">

										<input type="number" name="length" placeholder="0">
										<div class="ui label">
											<select class="ui compact selection dropdown">

												<option value="dollar">days</option>
												<option value="pound"> weeks </option>

											</select>
										</div>
									</div>

								</div>
								<div class=" fourteen wide field">
									<label>
										Production Time
									</label>
									<div class="ui labeled input">

										<input type="number" name="length" placeholder="0">
										<div class="ui label">
											<select class="ui compact selection dropdown">
												<option value="dollar">Hours</option>

												<option value="dollar">Days</option>
												<option value="pound"> Weeks </option>

											</select>
										</div>
									</div>

								</div>
							</div>

						</div>
					</div>

				</div>
		</form>
		</div>
		<div class="ui modal">
			<i class="close icon"></i>
			<div class="ui container">
				<div class="ui segment">
					<%- include('../../partials/new-customer-form') %>

				</div>
			</div>

		</div>



		<script>
			

			var lat = "";
			var long = "";
			getLocation()
			function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
	
	lat = position.coords.latitude;
	long = position.coords.longitude;
	var myLatLng = {lat: lat, lng: long};
	  var map = new google.maps.Map(document.getElementById('googleMap'), {
    zoom: 10,
    center: myLatLng
  });
	
	  var marker = new google.maps.Marker({
    position: myLatLng,
    map: map,
    title: ""
  });
	
}
			
			function myMap() {
				

	
	  var myLatLng = {lat: lat, lng: long};

  var map = new google.maps.Map(document.getElementById('googleMap'), {
    zoom: 4,
    center: myLatLng
  });

  var marker = new google.maps.Marker({
    position: myLatLng,
    map: map,
    title: 'Hello World!'
  });
	

}
			var orderProducts = [];
			var totalPrice = 0;
			var productAdded = false;
			$("#newCustomer").click(function() {
				$('.ui.modal')
					.modal('show');
			})
			$("#tagButton").click(function() {
				var tag = $("#tagInput").val();
				var tagValue = "'" + tag + "'";
				$("#addedTags").prepend("<div class='item'> <div class='content'><a class='ui tag label'>" + tag + "</a><input id='tagHidden' type='hidden' name='product[tag]' value=" + tagValue + "></div></div>")
			})
		</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBV2Hv-8yPdbxT7InT9IaLLcZpALqu7678&callback=myMap"></script>
